fragment CompassComponentDetailView on CompassComponent {
  ...CompassComponentCore

  name
  type
  description
  ownerId
  links {
    ...CompassComponentLinkCommon
  }
  fields {
    ... on CompassEnumField {
      value
    }
    definition {
      id
    }
  }
  dataManager {
    ecosystemAppId
    externalSourceURL
    lastSyncEvent {
      time
      status
      lastSyncErrors
    }
  }
  relationships {
    ... on CompassRelationshipConnection {
      nodes {
        type
        startNode {
          id
        }
        endNode {
          id
        }
      }
    }
  }
  # Get the latest deployment event
  events(query: {eventTypes: [DEPLOYMENT], first: 1}) {
    ... on CompassEventConnection {
      nodes {
        ... on CompassDeploymentEvent {
          url
          lastUpdated
          environment {
            displayName
          }
          displayName
        }
      }
    }
  }
  ...CompassComponentLabels
}
