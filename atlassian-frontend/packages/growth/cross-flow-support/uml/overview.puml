@startuml


cloud "Product Store SPA" {
    rectangle "Product Store" as PS
}

cloud "Cross Flow SPA" {
    rectangle "Cross Flow Frontend" as CF
    rectangle "XFlow UI" as XF

    XF <-> CF
}

cloud "Product/App" {
    rectangle "Touch Point" as TP0
    rectangle "Touch Point" as TP1

    package "Atlassian Switcher" as AS {
        rectangle "Touch Point" as TP2
    }

    package "Cross Flow Support" as CFS {
        rectangle "useCrossFlow()" as useCrossFlow
        rectangle "CrossFlowProvider" as CFP
    }

    useCrossFlow <--> CFP

    TP0 ---> useCrossFlow
    TP1 ---> useCrossFlow
    TP2 ---> useCrossFlow

    CFP <...> PS : iframe
    CFP <...> CF : iframe
}


@enduml
