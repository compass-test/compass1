query getMetricAlerts(
    $metricId: ID!
    $dateFrom: Date!
    $dateTo: Date!
    $env: Environment!
    $aggregation: ToplineAggregation!
    $toplineType: PageLoadToplineType!
    $pageLoadType: PageLoadType!
    $cohortType: CohortType!
    $cohortValue: String!
  ) {
  metric(id: $metricId) {
    alerts(
      dateFrom: $dateFrom
      dateTo: $dateTo
      env: $env
      aggregation: $aggregation
      toplineType: $toplineType
      pageLoadType: $pageLoadType
      cohortType: $cohortType
      cohortValue: $cohortValue
    ) {
      ...alert
    }
  }
}

fragment alert on Alert {
  id
  date
  sentAt
  opsgenieAlertId
  title
  description
  priority
  status
  acknowledged
  snoozed
  isSeen
}
