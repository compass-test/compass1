name: OSS CLA External
description: OSS CLA External
buildNumber: "${VERSION}"
notifications:
  email: gkong@atlassian.com
organization: UI Platform

computeClassification:
  dataType:
    - UGC/Label

cleanup: false

requiresAsap: true

links:
  healthcheck:
    uri: /healthcheck
  source:
    url: git@bitbucket.org:atlassian/atlassian-frontend.git
  binary:
    name: "${DOCKER_IMAGE}"
    tag: "${VERSION}"
    type: docker

resources:
  - type: globaledge
    name: ingress
    attributes:
      ip_whitelist:
        - public

environmentOverrides:
  stg-east:
    resources:
      - type: globaledge
        name: ingress
        attributes:
          domain:
            - opensource.stg.atlassian.com

  prod-east:
    resources:
      - type: globaledge
        name: ingress
        attributes:
          domain:
            - opensource.atlassian.com

serviceProxy:
  enabled: true
  egress:
    dependencies:
      - name: cla-internal
        authentication:
          enabled: true
